<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TESDA Learner's Profile Form (MIS 03-01)</title>
    <style>
        /* ===== SCREEN STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-blue: #1a5490;
            --primary-color: #1a5490;
            --secondary-color: #3b82f6;
            --success-color: #10b981;
            --error-color: #ef4444;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --border-color: #e5e7eb;
            --bg-light: #f9fafb;
            --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --border-radius-pill: 50px;
            --transition-normal: 0.3s ease;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            min-height: 100vh;
            padding: 1rem;
            position: relative;
        }

        /* TESDA Background Pattern */
        .body-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, rgba(26, 84, 144, 0.05) 0%, rgba(26, 84, 144, 0.03) 100%),
                        repeating-linear-gradient(45deg,
                            transparent,
                            transparent 50px,
                            rgba(26, 84, 144, 0.03) 50px,
                            rgba(26, 84, 144, 0.03) 52px),
                        repeating-linear-gradient(-45deg,
                            transparent,
                            transparent 50px,
                            rgba(26, 84, 144, 0.03) 50px,
                            rgba(26, 84, 144, 0.03) 52px),
                        #f5f7fa;
            background-attachment: fixed;
        }

        .body-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle at 20% 50%, rgba(26, 84, 144, 0.08) 0%, transparent 50%),
                            radial-gradient(circle at 80% 80%, rgba(26, 84, 144, 0.08) 0%, transparent 50%);
            opacity: 0.5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            overflow: hidden;
            position: relative;
        }

        .container::before {
            content: 'TESDA';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 120px;
            font-weight: 900;
            color: rgba(26, 84, 144, 0.02);
            z-index: 0;
            pointer-events: none;
            user-select: none;
        }

        .header,
        .form-content {
            position: relative;
            z-index: 1;
        }

        .header {
            background: rgba(26, 84, 144, 0.95);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            color: white;
            padding: 2rem;
            text-align: center;
            border-bottom: 3px solid var(--primary-blue);
        }

        .header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: white;
        }

        .header p {
            font-size: 0.95rem;
            opacity: 0.95;
            color: rgba(255, 255, 255, 0.9);
        }

        .form-content {
            padding: 2rem;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: all var(--transition-normal);
        }

        .card:hover {
            box-shadow: 0 4px 12px rgba(26, 84, 144, 0.15);
            border-color: rgba(26, 84, 144, 0.2);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-blue);
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--primary-blue);
            opacity: 0.9;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        @media (min-width: 640px) {
            .form-row.cols-2 {
                grid-template-columns: 1fr 1fr;
            }
            .form-row.cols-3 {
                grid-template-columns: 1fr 1fr 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-dark);
            margin-bottom: 0.375rem;
        }

        label .required {
            color: var(--error-color);
            margin-left: 0.25rem;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 0.625rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.95rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(26, 84, 144, 0.1);
        }

        input.error,
        select.error {
            border-color: var(--error-color);
        }

        .error-message {
            color: var(--error-color);
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .radio-item,
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        input[type="radio"],
        input[type="checkbox"] {
            width: auto;
            cursor: pointer;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .screen-footer {
            text-align: center;
            padding: 2rem;
            background: rgba(26, 84, 144, 0.05);
            border-top: 2px solid rgba(26, 84, 144, 0.1);
            color: var(--text-dark);
            font-size: 0.9rem;
        }

        .screen-footer p {
            margin: 0.25rem 0;
        }

        button {
            padding: 0.875rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            font-family: inherit;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            border: 2px solid var(--primary-blue);
        }

        .btn-primary:hover {
            background: #0d3a66;
            border-color: #0d3a66;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 84, 144, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: var(--primary-blue);
            color: white;
            transform: translateY(-2px);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .signature-pad {
            border: 2px dashed var(--border-color);
            border-radius: 6px;
            background: var(--bg-light);
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .signature-pad:hover {
            border-color: var(--primary-blue);
            background: rgba(26, 84, 144, 0.05);
        }

        .signature-canvas {
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: white;
            cursor: crosshair;
            touch-action: none;
        }

        /* ===== PRINT STYLES ===== */
        @media print {
            @page {
                size: A4;
                margin: 0.5in;
            }

            * {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            body {
                background: white;
                padding: 0;
                margin: 0;
            }

            .container {
                max-width: 100%;
                box-shadow: none;
                border-radius: 0;
                margin: 0;
                padding: 0;
            }

            .header,
            .button-group,
            .screen-footer,
            .card,
            .card-title,
            input,
            select,
            textarea,
            button,
            .signature-pad {
                display: none !important;
            }

            .form-content {
                padding: 0;
                display: block !important;
            }

            .print-only {
                display: block !important;
            }

            .print-header {
                display: flex !important;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 10px;
                padding-bottom: 10px;
                border-bottom: 3px solid #1a5490;
            }

            .print-logo {
                width: 60px;
                height: 60px;
            }

            .print-title {
                text-align: center;
                flex: 1;
                padding: 0 20px;
            }

            .print-title h1 {
                font-size: 14pt;
                font-weight: bold;
                margin-bottom: 2px;
                color: #1a5490;
            }

            .print-title p {
                font-size: 9pt;
                margin: 1px 0;
                color: #333;
            }

            .print-section {
                margin-bottom: 15px;
                page-break-inside: avoid;
            }

            .print-section-title {
                font-size: 10pt;
                font-weight: bold;
                background: rgba(26, 84, 144, 0.1);
                padding: 4px 8px;
                margin-bottom: 8px;
                border: 1px solid #1a5490;
                color: #1a5490;
            }

            .print-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
                margin-bottom: 8px;
            }

            .print-grid.cols-2 {
                grid-template-columns: repeat(2, 1fr);
            }

            .print-grid.cols-4 {
                grid-template-columns: repeat(4, 1fr);
            }

            .print-field {
                border: 1px solid #000;
                padding: 4px 6px;
                min-height: 24px;
                font-size: 9pt;
            }

            .print-field-label {
                font-size: 7pt;
                color: #1a5490;
                display: block;
                margin-bottom: 2px;
                font-weight: 600;
            }

            .print-field-value {
                font-size: 9pt;
                font-weight: 500;
                word-wrap: break-word;
            }

            .print-checkbox {
                display: inline-block;
                width: 12px;
                height: 12px;
                border: 1px solid #000;
                margin-right: 4px;
                vertical-align: middle;
                position: relative;
            }

            .print-checkbox.checked::after {
                content: 'âœ“';
                position: absolute;
                top: -2px;
                left: 1px;
                font-size: 10pt;
                font-weight: bold;
            }

            .print-signature-section {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-top: 20px;
            }

            .print-signature-box {
                border: 1px solid #000;
                padding: 8px;
                min-height: 80px;
            }

            .print-signature-box img {
                max-width: 100%;
                max-height: 60px;
            }

            .print-signature-line {
                border-top: 1px solid #000;
                margin-top: 50px;
                padding-top: 4px;
                text-align: center;
                font-size: 8pt;
            }

            .print-watermark {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) rotate(-45deg);
                font-size: 72pt;
                color: rgba(0, 0, 0, 0.03);
                z-index: -1;
                font-weight: bold;
            }

            .print-full-width {
                grid-column: 1 / -1;
            }

            .print-footer {
                margin-top: 20px;
                font-size: 7pt;
                text-align: center;
                color: #666;
                border-top: 1px solid #ccc;
                padding-top: 8px;
            }
        }

        .print-only {
            display: none;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .form-content {
                padding: 1rem;
            }

            .card {
                padding: 1rem;
            }

            .header {
                padding: 1.5rem 1rem;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="body-background"></div>
    <div class="container">
        <!-- Screen Header -->
        <div class="header">
            <h1>TESDA Registration Form</h1>
            <p>Learner's Profile Form | MIS 03-01 (ver. 2021)</p>
        </div>

        <div class="form-content">
            <!-- Print-Only Header -->
            <div class="print-only print-header">
                <div class="print-logo">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="45" fill="#1a5490" stroke="#000" stroke-width="2"/>
                        <text x="50" y="55" font-size="18" font-weight="bold" fill="white" text-anchor="middle">CAATE</text>
                    </svg>
                </div>
                <div class="print-title">
                    <h1>TECHNICAL EDUCATION AND SKILLS DEVELOPMENT AUTHORITY</h1>
                    <p style="font-size: 8pt; font-style: italic;">Pangasiwaan sa Edukasyong Teknikal at Pagpapaunlad ng Kasanayan</p>
                    <p style="font-weight: bold;">MIS 03-01 (ver. 2021)</p>
                    <p style="font-weight: bold;">REGISTRATION FORM</p>
                    <p style="font-weight: bold;">LEARNERS PROFILE FORM</p>
                </div>
                <div class="print-logo">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <rect x="10" y="10" width="80" height="80" fill="#1a5490" stroke="#000" stroke-width="2"/>
                        <text x="50" y="58" font-size="16" font-weight="bold" fill="white" text-anchor="middle">TESDA</text>
                    </svg>
                </div>
            </div>

            <div class="print-only print-watermark">TESDA</div>

            <!-- T2MIS & ULI -->
            <div class="card">
                <h2 class="card-title">1. T2MIS Auto Generated</h2>
                
                <div class="form-row cols-2">
                    <div class="form-group">
                        <label>1.1 Unique Learner Identifier (ULI) Number</label>
                        <input type="text" id="uliNumber">
                    </div>
                    <div class="form-group">
                        <label>1.2 Entry Date <span class="required">*</span></label>
                        <input type="date" id="entryDate" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>
            </div>

            <!-- LEARNER / MANPOWER PROFILE -->
            <div class="card">
                <h2 class="card-title">2. Learner / Manpower Profile</h2>
                
                <div class="form-row cols-3">
                    <div class="form-group">
                        <label>2.1 Last Name <span class="required">*</span></label>
                        <input type="text" id="lastName" required>
                        <span class="error-message">This field is required</span>
                    </div>
                    <div class="form-group">
                        <label>First Name <span class="required">*</span></label>
                        <input type="text" id="firstName" required>
                        <span class="error-message">This field is required</span>
                    </div>
                    <div class="form-group">
                        <label>Middle Name</label>
                        <input type="text" id="middleName">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Extension Name (Jr., Sr.)</label>
                        <input type="text" id="extensionName">
                    </div>
                </div>

                <div class="form-row cols-3">
                    <div class="form-group">
                        <label>2.2 Number</label>
                        <input type="text" id="addressNumber">
                    </div>
                    <div class="form-group">
                        <label>Street</label>
                        <input type="text" id="street">
                    </div>
                    <div class="form-group">
                        <label>Barangay <span class="required">*</span></label>
                        <input type="text" id="barangay" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>

                <div class="form-row cols-3">
                    <div class="form-group">
                        <label>District</label>
                        <input type="text" id="district">
                    </div>
                    <div class="form-group">
                        <label>City/Municipality <span class="required">*</span></label>
                        <input type="text" id="city" required>
                        <span class="error-message">This field is required</span>
                    </div>
                    <div class="form-group">
                        <label>Province <span class="required">*</span></label>
                        <input type="text" id="province" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>

                <div class="form-row cols-3">
                    <div class="form-group">
                        <label>Region <span class="required">*</span></label>
                        <input type="text" id="region" required>
                        <span class="error-message">This field is required</span>
                    </div>
                    <div class="form-group">
                        <label>Email Address / Facebook Account</label>
                        <input type="text" id="email">
                    </div>
                    <div class="form-group">
                        <label>Contact No. <span class="required">*</span></label>
                        <input type="tel" id="mobileNumber" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Nationality <span class="required">*</span></label>
                        <input type="text" id="nationality" value="Filipino" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>
            </div>

            <!-- PERSONAL INFORMATION -->
            <div class="card">
                <h2 class="card-title">3. Personal Information</h2>
                
                <div class="form-group">
                    <label>3.1 Sex <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="male" name="sex" value="Male" required>
                            <label for="male">Male</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="female" name="sex" value="Female">
                            <label for="female">Female</label>
                        </div>
                    </div>
                    <span class="error-message">This field is required</span>
                </div>

                <div class="form-group">
                    <label>3.2 Civil Status <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="single" name="civilStatus" value="Single" required>
                            <label for="single">Single</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="married" name="civilStatus" value="Married">
                            <label for="married">Married</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="separated" name="civilStatus" value="Separated / Divorced / Annulled">
                            <label for="separated">Separated / Divorced / Annulled</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="widow" name="civilStatus" value="Widow/er">
                            <label for="widow">Widow/er</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="commonlaw" name="civilStatus" value="Common Law / Live-in">
                            <label for="commonlaw">Common Law / Live-in</label>
                        </div>
                    </div>
                    <span class="error-message">This field is required</span>
                </div>

                <div class="form-group">
                    <label>3.3 Employment (Before the Training)</label>
                    <label style="font-weight: 600; margin-top: 0.5rem;">Employment Status <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="wageEmployed" name="employmentStatus" value="Wage-Employed" required>
                            <label for="wageEmployed">Wage-Employed</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="underemployed" name="employmentStatus" value="Underemployed">
                            <label for="underemployed">Underemployed</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="selfEmployed" name="employmentStatus" value="Self-Employed">
                            <label for="selfEmployed">Self-Employed</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="unemployed" name="employmentStatus" value="Unemployed">
                            <label for="unemployed">Unemployed</label>
                        </div>
                    </div>
                    <span class="error-message">This field is required</span>
                </div>

                <div class="form-group">
                    <label>Employment Type (if Wage-Employed or Underemployed)</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="regular" name="employmentType" value="Regular">
                            <label for="regular">Regular</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="casual" name="employmentType" value="Casual">
                            <label for="casual">Casual</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="jobOrder" name="employmentType" value="Job Order">
                            <label for="jobOrder">Job Order</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="probationary" name="employmentType" value="Probationary">
                            <label for="probationary">Probationary</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="permanent" name="employmentType" value="Permanent">
                            <label for="permanent">Permanent</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="contractual" name="employmentType" value="Contractual">
                            <label for="contractual">Contractual</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="temporary" name="employmentType" value="Temporary">
                            <label for="temporary">Temporary</label>
                        </div>
                    </div>
                </div>

                <div class="form-row cols-2">
                    <div class="form-group">
                        <label>3.4 Birthdate <span class="required">*</span></label>
                        <input type="date" id="birthDate" required>
                        <span class="error-message">This field is required</span>
                    </div>
                    <div class="form-group">
                        <label>Age</label>
                        <input type="number" id="age" min="0" max="120">
                    </div>
                </div>

                <div class="form-row cols-3">
                    <div class="form-group">
                        <label>3.5 Birthplace - City/Municipality</label>
                        <input type="text" id="birthCity">
                    </div>
                    <div class="form-group">
                        <label>Province</label>
                        <input type="text" id="birthProvince">
                    </div>
                    <div class="form-group">
                        <label>Region</label>
                        <input type="text" id="birthRegion">
                    </div>
                </div>

                <div class="form-group">
                    <label>3.6 Educational Attainment Before the Training (Trainee) <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="noGrade" name="education" value="No Grade Completed" required>
                            <label for="noGrade">No Grade Completed</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="elemUnder" name="education" value="Elementary Undergraduate">
                            <label for="elemUnder">Elementary Undergraduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="elemGrad" name="education" value="Elementary Graduate">
                            <label for="elemGrad">Elementary Graduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="hsUnder" name="education" value="High School Undergraduate">
                            <label for="hsUnder">High School Undergraduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="hsGrad" name="education" value="High School Graduate">
                            <label for="hsGrad">High School Graduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="jhs" name="education" value="Junior High School (K-12)">
                            <label for="jhs">Junior High School (K-12)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="shs" name="education" value="Senior High School (K-12)">
                            <label for="shs">Senior High School (K-12)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="postSecUnder" name="education" value="Post-Secondary Non-Tertiary / Technical Vocational Course Undergraduate">
                            <label for="postSecUnder">Post-Secondary Non-Tertiary / Technical Vocational Course Undergraduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="postSecGrad" name="education" value="Post-Secondary Non-Tertiary / Technical Vocational Course Graduate">
                            <label for="postSecGrad">Post-Secondary Non-Tertiary / Technical Vocational Course Graduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="collegeUnder" name="education" value="College Undergraduate">
                            <label for="collegeUnder">College Undergraduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="collegeGrad" name="education" value="College Graduate">
                            <label for="collegeGrad">College Graduate</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="masteral" name="education" value="Masteral">
                            <label for="masteral">Masteral</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="doctorate" name="education" value="Doctorate">
                            <label for="doctorate">Doctorate</label>
                        </div>
                    </div>
                    <span class="error-message">This field is required</span>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>3.7 Parent / Guardian Name</label>
                        <input type="text" id="guardianName">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Complete Permanent Mailing Address</label>
                        <textarea id="guardianAddress"></textarea>
                    </div>
                </div>
            </div>

            <!-- LEARNER CLASSIFICATION -->
            <div class="card">
                <h2 class="card-title">4. Learner / Trainee / Student (Clients) Classification</h2>
                
                <div class="form-group">
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="4ps" name="classification" value="4Ps Beneficiary">
                            <label for="4ps">4Ps Beneficiary</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="agrarian" name="classification" value="Agrarian Reform Beneficiary">
                            <label for="agrarian">Agrarian Reform Beneficiary</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="balikProbinsya" name="classification" value="Balik Probinsya">
                            <label for="balikProbinsya">Balik Probinsya</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="displaced" name="classification" value="Displaced Workers">
                            <label for="displaced">Displaced Workers</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="drugDependents" name="classification" value="Drug Dependents Surrenderees / Surrenderers">
                            <label for="drugDependents">Drug Dependents Surrenderees / Surrenderers</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="afpKia" name="classification" value="Family Members of AFP and PNP Killed-in-Action">
                            <label for="afpKia">Family Members of AFP and PNP Killed-in-Action</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="afpWia" name="classification" value="Family Members of AFP and PNP Wounded-in-Action">
                            <label for="afpWia">Family Members of AFP and PNP Wounded-in-Action</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="farmers" name="classification" value="Farmers and Fishermen">
                            <label for="farmers">Farmers and Fishermen</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="indigenous" name="classification" value="Indigenous People & Cultural Communities">
                            <label for="indigenous">Indigenous People & Cultural Communities</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="industryWorkers" name="classification" value="Industry Workers">
                            <label for="industryWorkers">Industry Workers</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="inmates" name="classification" value="Inmates and Detainees">
                            <label for="inmates">Inmates and Detainees</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="milf" name="classification" value="MILF Beneficiary">
                            <label for="milf">MILF Beneficiary</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="osy" name="classification" value="Out-of-School Youth">
                            <label for="osy">Out-of-School Youth</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="ofwDependent" name="classification" value="Overseas Filipino Workers (OFW) Dependent">
                            <label for="ofwDependent">Overseas Filipino Workers (OFW) Dependent</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="rcef" name="classification" value="RCEF-RESP">
                            <label for="rcef">RCEF-RESP</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="rebels" name="classification" value="Rebel Returnees / Decommissioned Combatants">
                            <label for="rebels">Rebel Returnees / Decommissioned Combatants</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="returningOfw" name="classification" value="Returning / Repatriated Overseas Filipino Workers (OFW)">
                            <label for="returningOfw">Returning / Repatriated Overseas Filipino Workers (OFW)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="student" name="classification" value="Student">
                            <label for="student">Student</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="tesdaAlumni" name="classification" value="TESDA Alumni">
                            <label for="tesdaAlumni">TESDA Alumni</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="tvetTrainers" name="classification" value="TVET Trainers">
                            <label for="tvetTrainers">TVET Trainers</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="uniformed" name="classification" value="Uniformed Personnel">
                            <label for="uniformed">Uniformed Personnel</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="disasters" name="classification" value="Victim of Natural Disasters and Calamities">
                            <label for="disasters">Victim of Natural Disasters and Calamities</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="woundedAfp" name="classification" value="Wounded-in-Action AFP & PNP Personnel">
                            <label for="woundedAfp">Wounded-in-Action AFP & PNP Personnel</label>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Others (Please Specify)</label>
                        <input type="text" id="classificationOthers">
                    </div>
                </div>
            </div>

            <!-- DISABILITY INFORMATION -->
            <div class="card">
                <h2 class="card-title">5. Type of Disability (For Persons with Disability Only)</h2>
                <p style="font-size: 0.875rem; color: var(--text-light); margin-bottom: 1rem;">To be filled up by TESDA personnel</p>
                
                <div class="form-group">
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="mentalDisability" name="disabilityType" value="Mental / Intellectual">
                            <label for="mentalDisability">Mental / Intellectual</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="visualDisability" name="disabilityType" value="Visual Disability">
                            <label for="visualDisability">Visual Disability</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="orthopedicDisability" name="disabilityType" value="Orthopedic (Musculoskeletal) Disability">
                            <label for="orthopedicDisability">Orthopedic (Musculoskeletal) Disability</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="hearingDisability" name="disabilityType" value="Hearing Disability">
                            <label for="hearingDisability">Hearing Disability</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="speechDisability" name="disabilityType" value="Speech Impairment">
                            <label for="speechDisability">Speech Impairment</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="psychosocialDisability" name="disabilityType" value="Psychosocial Disability">
                            <label for="psychosocialDisability">Psychosocial Disability</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="chronicDisability" name="disabilityType" value="Disability Due to Chronic Illness">
                            <label for="chronicDisability">Disability Due to Chronic Illness</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="learningDisability" name="disabilityType" value="Learning Disability">
                            <label for="learningDisability">Learning Disability</label>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Multiple Disabilities (Specify)</label>
                        <input type="text" id="multipleDisabilities">
                    </div>
                </div>
            </div>

            <!-- CAUSES OF DISABILITY -->
            <div class="card">
                <h2 class="card-title">6. Causes of Disability (For Persons with Disability Only)</h2>
                <p style="font-size: 0.875rem; color: var(--text-light); margin-bottom: 1rem;">To be filled up by TESDA personnel</p>
                
                <div class="form-group">
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="congenital" name="disabilityCause" value="Congenital / Inborn">
                            <label for="congenital">Congenital / Inborn</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="illness" name="disabilityCause" value="Illness">
                            <label for="illness">Illness</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="injury" name="disabilityCause" value="Injury">
                            <label for="injury">Injury</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COURSE INFORMATION -->
            <div class="card">
                <h2 class="card-title">7. Name of Course / Qualification</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Course/Qualification Title <span class="required">*</span></label>
                        <input type="text" id="courseTitle" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>
            </div>

            <!-- SCHOLARSHIP INFORMATION -->
            <div class="card">
                <h2 class="card-title">8. If Scholar, What Type of Scholarship Package?</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Scholarship Type (TWSP, PESFA, STEP, Others)</label>
                        <input type="text" id="scholarshipType" placeholder="e.g., TWSP, PESFA, STEP, or specify others">
                    </div>
                </div>
            </div>

            <!-- CONSENT AND SIGNATURE -->
            <div class="card">
                <h2 class="card-title">9. Privacy Consent and Disclaimer</h2>
                
                <div class="form-group">
                    <p style="margin-bottom: 1rem; line-height: 1.6;">
                        I hereby attest that I have read and understood the Privacy Notice of TESDA through its website and thereby give my consent 
                        to the processing of my personal information indicated in this Learners Profile. The processing includes scholarships, 
                        employment, survey, and all other related TESDA programs that may be beneficial to my qualifications.
                    </p>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="consentAgree" name="dataPrivacyConsent" value="Agree" required>
                            <label for="consentAgree">Agree</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="consentDisagree" name="dataPrivacyConsent" value="Disagree">
                            <label for="consentDisagree">Disagree</label>
                        </div>
                    </div>
                    <span class="error-message">You must select an option</span>
                </div>
            </div>

            <!-- APPLICANT SIGNATURE -->
            <div class="card">
                <h2 class="card-title">10. Applicant's Signature</h2>
                <p style="margin-bottom: 1rem; font-style: italic;">This is to certify that the information stated above is true and correct.</p>
                
                <div class="form-row cols-2">
                    <div class="form-group">
                        <label>Applicant's Signature</label>
                        <div class="signature-pad" id="learnerSignaturePad">
                            <p>Click to draw signature</p>
                            <canvas class="signature-canvas" id="learnerSignature" width="300" height="100" style="display:none;"></canvas>
                            <button type="button" id="clearLearnerSig" style="display:none; margin-top:10px;">Clear</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Date Accomplished <span class="required">*</span></label>
                        <input type="date" id="dateAccomplished" required>
                        <span class="error-message">This field is required</span>
                    </div>
                </div>

                <div class="form-row cols-2">
                    <div class="form-group">
                        <label>Noted by: Registrar / School Administrator</label>
                        <input type="text" id="registrarName" placeholder="Signature Over Printed Name">
                    </div>
                    <div class="form-group">
                        <label>Date Received</label>
                        <input type="date" id="dateReceived">
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="button-group">
                <button type="button" class="btn-secondary" id="resetBtn">Reset Form</button>
                <button type="button" class="btn-primary" id="printBtn">Print / Save as PDF</button>
            </div>

            <!-- Screen Footer -->
            <div class="screen-footer">
                <p>Â© 2026 Technical Education and Skills Development Authority (TESDA)</p>
                <p style="font-size: 0.85rem; opacity: 0.8;">MIS 03-01 (ver. 2021) | All information is protected under the Data Privacy Act of 2012</p>
            </div>

            <!-- PRINT OUTPUT -->
            <div class="print-only">
                <div class="print-section">
                    <div class="print-grid cols-2">
                        <div class="print-field">
                            <span class="print-field-label">1.1 UNIQUE LEARNER IDENTIFIER (ULI) NUMBER</span>
                            <div class="print-field-value" id="print-uliNumber"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">1.2 ENTRY DATE</span>
                            <div class="print-field-value" id="print-entryDate"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">2. LEARNER / MANPOWER PROFILE</div>
                    <div class="print-grid cols-4">
                        <div class="print-field">
                            <span class="print-field-label">2.1 LAST NAME</span>
                            <div class="print-field-value" id="print-lastName"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">EXTENSION NAME</span>
                            <div class="print-field-value" id="print-extensionName"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">FIRST NAME</span>
                            <div class="print-field-value" id="print-firstName"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">MIDDLE NAME</span>
                            <div class="print-field-value" id="print-middleName"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-3">
                        <div class="print-field">
                            <span class="print-field-label">2.2 NUMBER</span>
                            <div class="print-field-value" id="print-addressNumber"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">STREET</span>
                            <div class="print-field-value" id="print-street"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">BARANGAY</span>
                            <div class="print-field-value" id="print-barangay"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-4">
                        <div class="print-field">
                            <span class="print-field-label">DISTRICT</span>
                            <div class="print-field-value" id="print-district"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">CITY/MUNICIPALITY</span>
                            <div class="print-field-value" id="print-city"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">PROVINCE</span>
                            <div class="print-field-value" id="print-province"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">REGION</span>
                            <div class="print-field-value" id="print-region"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-3">
                        <div class="print-field">
                            <span class="print-field-label">EMAIL ADDRESS / FACEBOOK ACCOUNT</span>
                            <div class="print-field-value" id="print-email"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">CONTACT NO.</span>
                            <div class="print-field-value" id="print-mobileNumber"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">NATIONALITY</span>
                            <div class="print-field-value" id="print-nationality"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">3. PERSONAL INFORMATION</div>
                    <div class="print-grid cols-2">
                        <div class="print-field">
                            <span class="print-field-label">3.1 SEX</span>
                            <div class="print-field-value" id="print-sex"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">3.2 CIVIL STATUS</span>
                            <div class="print-field-value" id="print-civilStatus"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field">
                            <span class="print-field-label">3.3 EMPLOYMENT STATUS (Before Training)</span>
                            <div class="print-field-value" id="print-employmentStatus"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">EMPLOYMENT TYPE</span>
                            <div class="print-field-value" id="print-employmentType"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-4">
                        <div class="print-field">
                            <span class="print-field-label">3.4 BIRTHDATE</span>
                            <div class="print-field-value" id="print-birthDate"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">AGE</span>
                            <div class="print-field-value" id="print-age"></div>
                        </div>
                        <div class="print-field" style="grid-column: span 2;">
                            <span class="print-field-label">3.5 BIRTHPLACE</span>
                            <div class="print-field-value" id="print-birthCity"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field">
                            <span class="print-field-label">PROVINCE</span>
                            <div class="print-field-value" id="print-birthProvince"></div>
                        </div>
                        <div class="print-field">
                            <span class="print-field-label">REGION</span>
                            <div class="print-field-value" id="print-birthRegion"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">3.6 EDUCATIONAL ATTAINMENT BEFORE TRAINING</span>
                            <div class="print-field-value" id="print-education"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">3.7 PARENT / GUARDIAN NAME</span>
                            <div class="print-field-value" id="print-guardianName"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">COMPLETE PERMANENT MAILING ADDRESS</span>
                            <div class="print-field-value" id="print-guardianAddress"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">4. LEARNER / TRAINEE / STUDENT (CLIENTS) CLASSIFICATION</div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">CLASSIFICATION</span>
                            <div class="print-field-value" id="print-classification"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">OTHERS (SPECIFY)</span>
                            <div class="print-field-value" id="print-classificationOthers"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">5. TYPE OF DISABILITY (For Persons with Disability Only)</div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">DISABILITY TYPE</span>
                            <div class="print-field-value" id="print-disabilityType"></div>
                        </div>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">MULTIPLE DISABILITIES (SPECIFY)</span>
                            <div class="print-field-value" id="print-multipleDisabilities"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">6. CAUSES OF DISABILITY (For Persons with Disability Only)</div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <span class="print-field-label">CAUSE</span>
                            <div class="print-field-value" id="print-disabilityCause"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">7. NAME OF COURSE / QUALIFICATION</div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <div class="print-field-value" id="print-courseTitle"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">8. IF SCHOLAR, WHAT TYPE OF SCHOLARSHIP PACKAGE?</div>
                    <div class="print-grid cols-2">
                        <div class="print-field print-full-width">
                            <div class="print-field-value" id="print-scholarshipType"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">9. PRIVACY CONSENT AND DISCLAIMER</div>
                    <div class="print-field" style="margin-bottom: 10px;">
                        <p style="font-size: 8pt; line-height: 1.4;">
                            I hereby attest that I have read and understood the Privacy Notice of TESDA through its website and thereby give my consent 
                            to the processing of my personal information indicated in this Learners Profile. The processing includes scholarships, 
                            employment, survey, and all other related TESDA programs that may be beneficial to my qualifications.
                        </p>
                    </div>
                    <div class="print-grid cols-2">
                        <div class="print-field">
                            <span class="print-field-label">CONSENT</span>
                            <div class="print-field-value" id="print-consent"></div>
                        </div>
                    </div>
                </div>

                <div class="print-section">
                    <div class="print-section-title">10. APPLICANT'S SIGNATURE</div>
                    <div class="print-field" style="margin-bottom: 10px;">
                        <p style="font-size: 8pt; font-style: italic;">This is to certify that the information stated above is true and correct.</p>
                    </div>
                    <div class="print-signature-section">
                        <div class="print-signature-box">
                            <div style="font-size: 8pt; margin-bottom: 5px;">APPLICANT'S SIGNATURE OVER PRINTED NAME:</div>
                            <img id="print-learnerSignature" src="" alt="" style="display:none;">
                            <div class="print-signature-line">Signature over Printed Name</div>
                        </div>
                        <div class="print-signature-box">
                            <div style="font-size: 8pt; margin-bottom: 5px;">DATE ACCOMPLISHED:</div>
                            <div class="print-field-value" id="print-dateAccomplished" style="margin-top: 20px; font-size: 10pt;"></div>
                        </div>
                    </div>
                    <div class="print-signature-section" style="margin-top: 15px;">
                        <div class="print-signature-box">
                            <div style="font-size: 8pt; margin-bottom: 5px;">NOTED BY:</div>
                            <div style="font-size: 8pt; margin-top: 40px;">REGISTRAR / SCHOOL ADMINISTRATOR</div>
                            <div class="print-field-value" id="print-registrarName" style="margin-top: 5px; font-size: 9pt;"></div>
                            <div class="print-signature-line">Signature Over Printed Name</div>
                        </div>
                        <div class="print-signature-box">
                            <div style="font-size: 8pt; margin-bottom: 5px;">DATE RECEIVED:</div>
                            <div class="print-field-value" id="print-dateReceived" style="margin-top: 20px; font-size: 10pt;"></div>
                        </div>
                    </div>
                </div>

                <div class="print-footer">
                    MIS 03-01 (ver. 2021) | TESDA Registration Form - Learner's Profile Form
                </div>
            </div>
        </div>
    </div>

    <script>
        // Form validation and handling
        const form = {
            // Required fields for validation
            requiredFields: [
                'entryDate', 'lastName', 'firstName', 'barangay', 'city', 'province', 'region',
                'mobileNumber', 'nationality', 'birthDate', 'courseTitle', 'dateAccomplished'
            ],

            validate() {
                let isValid = true;
                
                // Validate required text/select fields
                this.requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    const errorMsg = field.nextElementSibling;
                    
                    if (!field.value.trim()) {
                        field.classList.add('error');
                        if (errorMsg && errorMsg.classList.contains('error-message')) {
                            errorMsg.classList.add('show');
                        }
                        isValid = false;
                    } else {
                        field.classList.remove('error');
                        if (errorMsg && errorMsg.classList.contains('error-message')) {
                            errorMsg.classList.remove('show');
                        }
                    }
                });

                // Validate employment status radio
                const employmentStatus = document.querySelector('input[name="employmentStatus"]:checked');
                if (!employmentStatus) {
                    const errorMsg = document.querySelector('input[name="employmentStatus"]').closest('.form-group').querySelector('.error-message');
                    if (errorMsg) errorMsg.classList.add('show');
                    isValid = false;
                }

                // Validate sex radio
                const sex = document.querySelector('input[name="sex"]:checked');
                if (!sex) {
                    const errorMsg = document.querySelector('input[name="sex"]').closest('.form-group').querySelector('.error-message');
                    if (errorMsg) errorMsg.classList.add('show');
                    isValid = false;
                }

                // Validate civil status radio
                const civilStatus = document.querySelector('input[name="civilStatus"]:checked');
                if (!civilStatus) {
                    const errorMsg = document.querySelector('input[name="civilStatus"]').closest('.form-group').querySelector('.error-message');
                    if (errorMsg) errorMsg.classList.add('show');
                    isValid = false;
                }

                // Validate education radio
                const education = document.querySelector('input[name="education"]:checked');
                if (!education) {
                    const errorMsg = document.querySelector('input[name="education"]').closest('.form-group').querySelector('.error-message');
                    if (errorMsg) errorMsg.classList.add('show');
                    isValid = false;
                }

                // Validate data privacy consent
                const consent = document.querySelector('input[name="dataPrivacyConsent"]:checked');
                if (!consent) {
                    const consentError = document.querySelector('input[name="dataPrivacyConsent"]').closest('.form-group').querySelector('.error-message');
                    if (consentError) consentError.classList.add('show');
                    isValid = false;
                }

                return isValid;
            },

            populatePrintView() {
                // Helper function to get value
                const getValue = (id) => {
                    const el = document.getElementById(id);
                    if (!el) return '';
                    if (el.type === 'radio') {
                        const checked = document.querySelector(`input[name="${id}"]:checked`);
                        return checked ? checked.value : '';
                    }
                    return el.value || '';
                };

                // Populate all print fields
                const fields = [
                    'uliNumber', 'entryDate', 'lastName', 'firstName', 'middleName', 'extensionName',
                    'addressNumber', 'street', 'barangay', 'district', 'city', 'province', 'region',
                    'email', 'mobileNumber', 'nationality', 'birthDate', 'age', 'birthCity',
                    'birthProvince', 'birthRegion', 'guardianName', 'guardianAddress',
                    'classificationOthers', 'multipleDisabilities', 'courseTitle', 'scholarshipType',
                    'dateAccomplished', 'registrarName', 'dateReceived'
                ];

                fields.forEach(field => {
                    const printEl = document.getElementById(`print-${field}`);
                    if (printEl) {
                        printEl.textContent = getValue(field);
                    }
                });

                // Sex
                const sex = document.querySelector('input[name="sex"]:checked');
                document.getElementById('print-sex').textContent = sex ? sex.value : '';

                // Civil Status
                const civilStatus = document.querySelector('input[name="civilStatus"]:checked');
                document.getElementById('print-civilStatus').textContent = civilStatus ? civilStatus.value : '';

                // Employment status
                const employmentStatus = document.querySelector('input[name="employmentStatus"]:checked');
                document.getElementById('print-employmentStatus').textContent = employmentStatus ? employmentStatus.value : '';

                // Employment Type checkboxes
                const employmentTypes = [];
                document.querySelectorAll('input[name="employmentType"]:checked').forEach(cb => {
                    employmentTypes.push(cb.value);
                });
                document.getElementById('print-employmentType').textContent = employmentTypes.join(', ') || 'N/A';

                // Education
                const education = document.querySelector('input[name="education"]:checked');
                document.getElementById('print-education').textContent = education ? education.value : '';

                // Classification checkboxes
                const classifications = [];
                document.querySelectorAll('input[name="classification"]:checked').forEach(cb => {
                    classifications.push(cb.value);
                });
                document.getElementById('print-classification').textContent = classifications.join(', ') || 'None';

                // Disability Type checkboxes
                const disabilityTypes = [];
                document.querySelectorAll('input[name="disabilityType"]:checked').forEach(cb => {
                    disabilityTypes.push(cb.value);
                });
                document.getElementById('print-disabilityType').textContent = disabilityTypes.join(', ') || 'N/A';

                // Disability Cause
                const disabilityCause = document.querySelector('input[name="disabilityCause"]:checked');
                document.getElementById('print-disabilityCause').textContent = disabilityCause ? disabilityCause.value : 'N/A';

                // Privacy Consent
                const consent = document.querySelector('input[name="dataPrivacyConsent"]:checked');
                document.getElementById('print-consent').textContent = consent ? consent.value : '';

                // Signature
                const sigCanvas = document.getElementById('learnerSignature');
                const printSig = document.getElementById('print-learnerSignature');
                if (sigCanvas && !sigCanvas.style.display.includes('none')) {
                    printSig.src = sigCanvas.toDataURL();
                    printSig.style.display = 'block';
                }
            },

            reset() {
                if (confirm('Are you sure you want to reset the form? All data will be lost.')) {
                    document.querySelectorAll('input, select, textarea').forEach(el => {
                        if (el.type === 'checkbox' || el.type === 'radio') {
                            el.checked = false;
                        } else {
                            el.value = '';
                        }
                        el.classList.remove('error');
                    });

                    document.querySelectorAll('.error-message').forEach(msg => {
                        msg.classList.remove('show');
                    });

                    // Reset signature
                    const sigCanvas = document.getElementById('learnerSignature');
                    const sigPad = document.getElementById('learnerSignaturePad');
                    if (sigCanvas) {
                        sigCanvas.style.display = 'none';
                        const ctx = sigCanvas.getContext('2d');
                        ctx.clearRect(0, 0, sigCanvas.width, sigCanvas.height);
                    }
                    if (sigPad) {
                        sigPad.querySelector('p').style.display = 'block';
                    }
                    document.getElementById('clearLearnerSig').style.display = 'none';

                    // Set default values
                    document.getElementById('nationality').value = 'Filipino';
                    const today = new Date().toISOString().split('T')[0];
                    document.getElementById('entryDate').value = today;
                    document.getElementById('dateAccomplished').value = today;
                }
            }
        };

        // Signature pad functionality
        function initSignaturePad() {
            const pad = document.getElementById('learnerSignaturePad');
            const canvas = document.getElementById('learnerSignature');
            const clearBtn = document.getElementById('clearLearnerSig');
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;

            pad.addEventListener('click', function(e) {
                if (canvas.style.display === 'none') {
                    canvas.style.display = 'block';
                    clearBtn.style.display = 'inline-block';
                    pad.querySelector('p').style.display = 'none';
                }
            });

            function getCoordinates(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;
                return { x, y };
            }

            function startDrawing(e) {
                isDrawing = true;
                const coords = getCoordinates(e);
                lastX = coords.x;
                lastY = coords.y;
            }

            function draw(e) {
                if (!isDrawing) return;
                e.preventDefault();
                
                const coords = getCoordinates(e);
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(coords.x, coords.y);
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.stroke();
                
                lastX = coords.x;
                lastY = coords.y;
            }

            function stopDrawing() {
                isDrawing = false;
            }

            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            canvas.addEventListener('touchstart', startDrawing);
            canvas.addEventListener('touchmove', draw);
            canvas.addEventListener('touchend', stopDrawing);

            clearBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            });
        }

        // Event listeners
        document.getElementById('printBtn').addEventListener('click', function() {
            if (form.validate()) {
                form.populatePrintView();
                setTimeout(() => {
                    window.print();
                }, 100);
            } else {
                alert('Please fill in all required fields before printing.');
                // Scroll to first error
                const firstError = document.querySelector('.error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        });

        document.getElementById('resetBtn').addEventListener('click', function() {
            form.reset();
        });

        // Remove error styling on input
        document.querySelectorAll('input, select, textarea').forEach(field => {
            field.addEventListener('input', function() {
                this.classList.remove('error');
                const errorMsg = this.nextElementSibling;
                if (errorMsg && errorMsg.classList.contains('error-message')) {
                    errorMsg.classList.remove('show');
                }
            });

            field.addEventListener('change', function() {
                this.classList.remove('error');
                const errorMsg = this.nextElementSibling;
                if (errorMsg && errorMsg.classList.contains('error-message')) {
                    errorMsg.classList.remove('show');
                }
            });
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initSignaturePad();
            
            // Set today's date as default for entry date and date accomplished
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('entryDate').value = today;
            document.getElementById('dateAccomplished').value = today;

            // Set default nationality
            document.getElementById('nationality').value = 'Filipino';

            // Auto-calculate age from birthdate
            document.getElementById('birthDate').addEventListener('change', function() {
                const birthDate = new Date(this.value);
                const today = new Date();
                let age = today.getFullYear() - birthDate.getFullYear();
                const monthDiff = today.getMonth() - birthDate.getMonth();
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                    age--;
                }
                document.getElementById('age').value = age >= 0 ? age : '';
            });
        });

        // Prevent accidental page unload
        window.addEventListener('beforeunload', function(e) {
            const hasData = document.getElementById('lastName').value || 
                           document.getElementById('firstName').value;
            if (hasData) {
                e.preventDefault();
                e.returnValue = '';
            }
        });

        // Service worker for offline functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('data:text/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpIHsKICBzZWxmLnNraXBXYWl0aW5nKCk7Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgcmV0dXJuIHNlbGYuY2xpZW50cy5jbGFpbSgpOwp9KTs=')
                    .catch(function() {
                        // Service worker registration failed, app still works offline
                    });
            });
        }
    </script>
</body>
</html>
